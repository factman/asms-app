{"version":3,"sources":["webpack:///./src/app/admin-payment/admin-payment.module.ts","webpack:///./src/app/admin-payment/admin-payment.page.html","webpack:///./src/app/admin-payment/admin-payment.page.scss","webpack:///./src/app/admin-payment/admin-payment.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEW;AAExD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,oEAAgB;KAC5B;CACF,CAAC;AAWF;IAAA;IAAqC,CAAC;IAAzB,sBAAsB;QATlC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,oEAAgB,CAAC;SACjC,CAAC;OACW,sBAAsB,CAAG;IAAD,6BAAC;CAAA;AAAH;;;;;;;;;;;;ACzBnC,iNAAiN,IAAI,6TAA6T,uBAAuB,0IAA0I,sCAAsC,8OAA8O,kCAAkC,sDAAsD,kCAAkC,6UAA6U,iDAAiD,wKAAwK,WAAW,2IAA2I,qDAAqD,iIAAiI,eAAe,6L;;;;;;;;;;;ACAl8D,+DAA+D,2J;;;;;;;;;;;;;;;;;;;;;ACAb;AACX;AACoC;AACV;AACV;AAOvD;IAKE,0BAAoB,MAAc,EAAU,GAAsB,EAAU,QAA0B,EAAU,KAAmB;QAA/G,WAAM,GAAN,MAAM,CAAQ;QAAU,QAAG,GAAH,GAAG,CAAmB;QAAU,aAAQ,GAAR,QAAQ,CAAkB;QAAU,UAAK,GAAL,KAAK,CAAc;QAHnI,OAAE,GAAG,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAC;QACtD,UAAK,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAEgG,CAAC;IAExI,mCAAQ,GAAR;QACE,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC;QACvC,IAAI,IAAI,KAAK,sEAAU,CAAC,KAAK,EAAE;YAC7B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;SACpC;IACH,CAAC;IAED,8BAAG,GAAH;QAAA,iBAcC;QAbC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;QACzC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;YACtB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,oBAAoB,CAAC;iBAClC,IAAI,CAAC;gBACJ,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC;iBAChC,IAAI,CAAC;gBACJ,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;SACN;IACH,CAAC;IAED,iCAAM,GAAN;QACE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,sEAAU,CAAC,KAAK,CAAC,CAAC;QAClC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC3B,CAAC;IAjCU,gBAAgB;QAL5B,+DAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;YAC7B,iHAAwC;;SAEzC,CAAC;+EAM4B,sDAAM,EAAe,8EAAiB,EAAoB,4EAAgB,EAAiB,oEAAY;OALxH,gBAAgB,CAmC5B;IAAD,uBAAC;CAAA;AAnC4B","file":"admin-payment-admin-payment-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AdminPaymentPage } from './admin-payment.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminPaymentPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AdminPaymentPage]\n})\nexport class AdminPaymentPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button color=\\\"light\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Order: {{id}}\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\" (click)=\\\"logout()\\\">\\n      <ion-button>\\n        <ion-icon name=\\\"log-out\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<div class=\\\"total-con\\\">\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n        <h3>Order Items ({{order.products.length}})</h3>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <ion-text color=\\\"dark\\\">\\n          <p>Total: &#8358;{{currency.formatCurrency(order.total)}}</p>\\n        </ion-text>\\n      </ion-col>\\n      <ion-col size=\\\"5\\\">\\n        <ion-button (click)=\\\"pay()\\\" [color]=\\\"order.payment ? 'danger' : 'success'\\\" expand=\\\"full\\\" shape=\\\"round\\\" size=\\\"small\\\">\\n          <ion-icon name=\\\"{{order.payment ? 'close' : 'card'}}\\\" slot=\\\"start\\\"></ion-icon>\\n          <ion-label>{{order.payment ? 'Reject' : 'Pay'}}</ion-label>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</div>\\n\\n<ion-content color=\\\"light\\\">\\n  <div id=\\\"cart\\\">\\n    <ion-card *ngFor=\\\"let item of order.products\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"3\\\">\\n            <ion-icon class=\\\"media\\\" color=\\\"dark\\\" name=\\\"{{item.category === 'wear' ? 'business' : 'pizza'}}\\\"></ion-icon>\\n          </ion-col>\\n          <ion-col size=\\\"9\\\" wrap=\\\"no-wrap\\\">\\n            <ion-item lines=\\\"none\\\">\\n              <ion-label color=\\\"dark\\\">{{item.name}}</ion-label>\\n            </ion-item>\\n            <ion-row>\\n              <ion-col>\\n                <ion-label class=\\\"price\\\">&#8358;{{currency.formatCurrency(item.price * item.quantity)}}</ion-label>\\n              </ion-col>\\n              <ion-col>\\n                <ion-label class=\\\"date\\\" color=\\\"dark\\\">Qty: {{item.quantity}}</ion-label>\\n              </ion-col>\\n            </ion-row>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-card>\\n    <br/>\\n  </div>\\n  <br/>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluLXBheW1lbnQvYWRtaW4tcGF5bWVudC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport {Router} from '@angular/router';\nimport {ConstantsService, PRIVILEGES} from '../services/constants.service';\nimport {ControllerService} from '../services/controller.service';\nimport {AlertService} from '../services/alert.service';\n\n@Component({\n  selector: 'app-admin-payment',\n  templateUrl: './admin-payment.page.html',\n  styleUrls: ['./admin-payment.page.scss'],\n})\nexport class AdminPaymentPage implements OnInit {\n\n  id = location.pathname.replace('/admin-payment/', '');\n  order = this.api.getOrderById(this.id);\n\n  constructor(private router: Router, private api: ControllerService, private currency: ConstantsService, private toast: AlertService) { }\n\n  ngOnInit() {\n    const user = this.api.getCurrentUser();\n    if (user !== PRIVILEGES.ADMIN) {\n      this.router.navigateByUrl('/home');\n    }\n  }\n\n  pay() {\n    this.order.payment = !this.order.payment;\n    this.api.makePay(this.order, this.order.payment);\n    if (this.order.payment) {\n      this.toast.show('Payment Successful')\n        .then(() => {\n          this.router.navigateByUrl('/admin-orders');\n        });\n    } else {\n      this.toast.show('Payment Rejected')\n        .then(() => {\n          this.router.navigateByUrl('/admin-orders');\n        });\n    }\n  }\n\n  logout() {\n    this.api.logout(PRIVILEGES.ADMIN);\n    location.assign('/home');\n  }\n\n}\n"],"sourceRoot":""}